{"version":3,"file":"app.min.js","names":["accordion","$context","document","$accordions","classList","contains","getElementsByClassName","length","forEach","call","$accordion","option","concat","setAttribute","remove","multiple","hasAttribute","closeAll","expanded","$item","getAttribute","collapsed","expand","$content","querySelector","removeAttribute","dispatchEvent","CustomEvent","bubbles","collapse","toggle","filter","children","setMaxHeight","style","maxHeight","scrollHeight","firstElementChild","parentElement","closest","addEventListener","e","$child","passive","key","target","Event","accordionItemResizeObserver","ResizeObserver","items","item","i","observe","location","hash","duration","getComputedStyle","transitionDuration","setTimeout","scrollIntoView","parseFloat","test","Behaviours","add"],"sources":["app.js"],"sourcesContent":["function accordion( $context ) {\n\n    $context = $context||document;\n\n    let $accordions;\n\n    if ( !!$context.classList && $context.classList.contains( 'wp-block-accordion-widget' ) ) $accordions = [$context];\n    else $accordions = $context.getElementsByClassName( 'wp-block-accordion-widget' );\n    if ( !$accordions.length ) return;\n\n    [].forEach.call( $accordions, function( $accordion ) {\n        // clean up in case options are set via classes\n        ['multiple', 'close-all'].forEach( ( option ) => {\n            if ( !$accordion.classList.contains( `allow-${option}` ) ) return;\n\n            $accordion.setAttribute( `data-allow-${option}`, '' );\n            $accordion.classList.remove( `allow-${option}` );\n        } )\n\n        // allow for multiple accordion sections to be expanded at the same time\n        const multiple = () => $accordion.hasAttribute( 'data-allow-multiple' );\n        const closeAll = () => $accordion.hasAttribute( 'data-allow-close-all' );\n\n        // status\n        const expanded = ( $item ) => $item.getAttribute( 'aria-expanded' ) === 'true';\n        const collapsed = ( $item ) => !expanded( $item );\n\n        const expand = ( $item ) => {\n            $item.setAttribute( 'aria-expanded', 'true' );\n            const $content = $item.querySelector( '.wp-block-accordion-item-content' );\n            if ( $content ) $content.removeAttribute( 'inert' );\n            $item.dispatchEvent( new CustomEvent( 'accordion-item-expand', { bubbles: true } ) );\n            return true;\n        }\n\n        const collapse = ( $item ) => {\n            $item.setAttribute( 'aria-expanded', 'false' );\n            const $content = $item.querySelector( '.wp-block-accordion-item-content' );\n            if ( $content ) $content.setAttribute( 'inert', '' );\n            $item.dispatchEvent( new CustomEvent( 'accordion-item-collapse', { bubbles: true } ) );\n            return true;\n        }\n\n        const toggle = ( $item ) => {\n            if ( expanded( $item ) && !closeAll() ) {\n                if ( [].filter.call( $accordion.children, expanded ).length < 2 )\n                    return;\n            }\n\n            // toggle\n            (expanded( $item ) && collapse( $item )) || expand( $item );\n        }\n\n        // set item's max height according if expanded or collapsed\n        const setMaxHeight = ( $item ) => {\n            if ( expanded( $item ) ) $item.style.maxHeight = `${$item.scrollHeight}px`;\n            else $item.style.maxHeight = `${$item.firstElementChild.scrollHeight}px`;\n\n            // nested accordions\n            while ( $item = $item.parentElement.closest( 'div.wp-block-accordion-item' ) )\n                setMaxHeight( $item )\n        }\n\n        [].forEach.call( $accordion.children, function( $item ) {\n            if ( !$item.hasAttribute( 'aria-expanded' ) ) collapse( $item );\n\n            // a11y\n            if ( !$item.firstElementChild.hasAttribute( 'role' ) ) {\n                $item.firstElementChild.setAttribute( 'role', 'button' );\n                $item.firstElementChild.setAttribute( 'tabindex', 0 );\n            }\n\n            $item.firstElementChild.addEventListener( 'click', function( e ) {\n                // close all other items\n                if ( !multiple() ) [].filter.call( $accordion.children, function( $child ) {\n                    return $child !== $item;\n                } ).forEach( collapse );\n\n                toggle( $item );\n\n                [].forEach.call( $accordion.children, setMaxHeight );\n            }, { passive: true } );\n\n            $item.firstElementChild.addEventListener( 'keydown', e => {\n                if ( e.key !== 'Enter' ) return;\n                e.target.dispatchEvent( new Event( 'click' ) );\n            } )\n\n            const accordionItemResizeObserver = new ResizeObserver(items => {\n                items.forEach( function( item, i ) {\n                    setMaxHeight( item.target );\n                } );\n            } );\n\n            [].forEach.call( $accordion.children, ( $item ) => accordionItemResizeObserver.observe( $item ) );\n\n            // … open all items\n            if ( $accordion.classList.contains( 'open-all' ) )\n                !$accordion.classList.remove( 'open-all' ) && [].forEach.call( $accordion.children, expand );\n            // … open first item\n            else if ( $accordion.classList.contains( 'open-first' ) )\n                !$accordion.classList.remove( 'open-first' ) && expand( $accordion.children[0] );\n\n            $accordion.dispatchEvent( new CustomEvent( 'accordion-init', { bubbles: true } ) );\n        } );\n\n        // open item by hash\n        if ( location.hash ) {\n            const $item = $accordion.querySelector( `.wp-block-accordion-item${location.hash}` );\n            if ( $item ) {\n                expand( $item )\n\n                const duration = getComputedStyle( $item ).transitionDuration;\n                setTimeout( () => $item.scrollIntoView(), parseFloat( duration ) * (/\\ds$/.test( duration ) ? 1000 : 1) )\n            }\n        }\n    } );\n\n}\n\nif ( typeof Behaviours !== 'undefined' )\n    Behaviours.add( 'accordions', accordion );\nelse accordion();\n"],"mappings":"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"}