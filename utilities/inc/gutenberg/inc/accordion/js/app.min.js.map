{"version":3,"file":"app.min.js","names":["accordion","$context","document","$accordions","classList","contains","getElementsByClassName","length","forEach","call","$accordion","option","concat","setAttribute","remove","multiple","hasAttribute","closeAll","expanded","$item","getAttribute","collapsed","expand","dispatchEvent","CustomEvent","bubbles","collapse","toggle","filter","children","setMaxHeight","style","maxHeight","scrollHeight","firstElementChild","parentElement","closest","addEventListener","e","$child","passive","accordionItemResizeObserver","ResizeObserver","items","item","i","target","observe"],"sources":["app.js"],"sourcesContent":["function accordion( $context ) {\n\n    $context = $context||document;\n\n    let $accordions;\n\n    if ( !!$context.classList && $context.classList.contains( 'wp-block-accordion-widget' ) ) $accordions = [$context];\n    else $accordions = $context.getElementsByClassName( 'wp-block-accordion-widget' );\n    if ( !$accordions.length ) return;\n\n    [].forEach.call( $accordions, function( $accordion ) {\n        // clean up in case options are set via classes\n        ['multiple', 'close-all'].forEach( ( option ) => {\n            if ( !$accordion.classList.contains( `allow-${option}` ) ) return;\n\n            $accordion.setAttribute( `data-allow-${option}`, '' );\n            $accordion.classList.remove( `allow-${option}` );\n        } )\n\n        // allow for multiple accordion sections to be expanded at the same time\n        const multiple = () => $accordion.hasAttribute( 'data-allow-multiple' );\n        const closeAll = () => $accordion.hasAttribute( 'data-allow-close-all' );\n\n        // status\n        const expanded = ( $item ) => $item.getAttribute( 'aria-expanded' ) === 'true';\n        const collapsed = ( $item ) => !expanded( $item );\n\n        const expand = ( $item ) => {\n            $item.setAttribute( 'aria-expanded', 'true' );\n            $item.dispatchEvent( new CustomEvent( 'accordion-item-expand', { bubbles: true } ) );\n            return true;\n        }\n\n        const collapse = ( $item ) => {\n            $item.setAttribute( 'aria-expanded', 'false' );\n            $item.dispatchEvent( new CustomEvent( 'accordion-item-collapse', { bubbles: true } ) );\n            return true;\n        }\n\n        const toggle = ( $item ) => {\n            if ( expanded( $item ) && !closeAll() ) {\n                if ( [].filter.call( $accordion.children, expanded ).length < 2 )\n                    return;\n            }\n\n            // toggle\n            (expanded( $item ) && collapse( $item )) || expand( $item );\n        }\n\n        // set item's max height according if expanded or collapsed\n        const setMaxHeight = ( $item ) => {\n            if ( expanded( $item ) ) $item.style.maxHeight = `${$item.scrollHeight}px`;\n            else $item.style.maxHeight = `${$item.firstElementChild.scrollHeight}px`;\n\n            // nested accordions\n            while ( $item = $item.parentElement.closest( 'div.wp-block-accordion-item' ) )\n                setMaxHeight( $item )\n        }\n\n        [].forEach.call( $accordion.children, function( $item ) {\n            if ( !$item.hasAttribute( 'aria-expanded' ) ) collapse( $item );\n\n            $item.firstElementChild.addEventListener( 'click', function( e ) {\n                // close all other items\n                if ( !multiple() ) [].filter.call( $accordion.children, function( $child ) {\n                    return $child !== $item;\n                } ).forEach( collapse );\n\n                toggle( $item );\n\n                [].forEach.call( $accordion.children, setMaxHeight );\n            }, { passive: true } );\n\n            const accordionItemResizeObserver = new ResizeObserver(items => {\n                items.forEach( function( item, i ) {\n                    setMaxHeight( item.target );\n                } );\n            } );\n\n            [].forEach.call( $accordion.children, ( $item ) => accordionItemResizeObserver.observe( $item ) );\n\n            // … open all items\n            if ( $accordion.classList.contains( 'open-all' ) )\n                !$accordion.classList.remove( 'open-all' ) && [].forEach.call( $accordion.children, expand );\n            // … open first item\n            else if ( $accordion.classList.contains( 'open-first' ) )\n                !$accordion.classList.remove( 'open-first' ) && expand( $accordion.children[0] );\n\n            $accordion.dispatchEvent( new CustomEvent( 'accordion-init', { bubbles: true } ) );\n        } );\n    } );\n\n}\n\naccordion(); // init"],"mappings":"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"}