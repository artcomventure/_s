"use strict";Behaviours.add("video:mediaelement",function(){var a;Behaviours.remove("video:mediaelement");null!==(a=wp)&&void 0!==a&&a.mediaelement&&Behaviours.add("video:mediaelement",function(){return wp.mediaelement.initialize()})}),Behaviours.add("video:wp-block-video",function(){var a=[];"undefined"!=typeof _wpmejsSettings&&(settings=jQuery.extend(!0,{},_wpmejsSettings)),settings.classPrefix="mejs-",settings.success=settings.success||function(a){var b,c;a.rendererName&&-1!==a.rendererName.indexOf("flash")&&(b=a.attributes.autoplay&&"false"!==a.attributes.autoplay,c=a.attributes.loop&&"false"!==a.attributes.loop,b&&a.addEventListener("canplay",function(){a.play()},!1),c&&a.addEventListener("ended",function(){a.play()},!1))},settings.customError=function(a,b){if(-1!==a.rendererName.indexOf("flash")||-1!==a.rendererName.indexOf("flv"))return"<a href=\""+b.src+"\">"+mejsL10n.strings["mejs.download-file"]+"</a>"},("undefined"==typeof settings.videoShortcodeLibrary||"mediaelement"===settings.videoShortcodeLibrary)&&a.push(".wp-block-video video");a.length&&jQuery(a.join(", ")).not(".mejs-container").filter(function(){return!jQuery(this).parent().hasClass("mejs-mediaelement")}).each(function(){jQuery(this).attr("preload",jQuery(this).attr("preload")||"metadata")}).mediaelementplayer(settings)});