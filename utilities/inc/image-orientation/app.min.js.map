{"version":3,"file":"script.min.js","names":["mediaOrientation","$image","orientation","tagName","target","$figure","closest","classList","add","naturalWidth","naturalHeight","Behaviours","$context","forEach","call","querySelectorAll","className","match","complete","addEventListener"],"sources":["script.js"],"sourcesContent":["(function() {\n\n    function mediaOrientation( $image, orientation ) {\n        // $image `attribute` is an event\n        if ( $image.tagName !== 'IMG' ) {\n            $image = $image.target;\n        }\n\n        const $figure = $image.closest( 'figure' );\n\n        // given `orientation` means image already got ratio class\n        // ... but we'll check for figure\n        if ( orientation ) {\n            if ( $figure ) $figure.classList.add( `ratio-${orientation}` );\n            return;\n        }\n\n        orientation = 'square';\n        if ( $image.naturalWidth > $image.naturalHeight ) orientation = 'landscape';\n        else if ( $image.naturalWidth < $image.naturalHeight ) orientation = 'portrait';\n\n        $image.classList.add( `ratio-${orientation}` );\n        mediaOrientation( $image, orientation ); // figure\n    }\n\n    Behaviours.add( 'media:orientation', ( $context ) => {\n\n        [].forEach.call( $context.querySelectorAll( 'img' ), $image => {\n            // check for already given orientation\n            let orientation = ($image.className.match( /(^| )ratio-([^ ])( |$)/ )||[])[2];\n\n            if ( orientation  ) mediaOrientation( $image, orientation );\n            else if ( $image.complete ) mediaOrientation( $image )\n            else $image.addEventListener( 'load', mediaOrientation );\n        } )\n\n    } );\n\n})();"],"mappings":";;AAAA,CAAC,YAAW;EAER,SAASA,gBAAgB,CAAEC,MAAM,EAAEC,WAAW,EAAG;IAC7C;IACA,IAAKD,MAAM,CAACE,OAAO,KAAK,KAAK,EAAG;MAC5BF,MAAM,GAAGA,MAAM,CAACG,MAAM;IAC1B;IAEA,IAAMC,OAAO,GAAGJ,MAAM,CAACK,OAAO,CAAE,QAAQ,CAAE;;IAE1C;IACA;IACA,IAAKJ,WAAW,EAAG;MACf,IAAKG,OAAO,EAAGA,OAAO,CAACE,SAAS,CAACC,GAAG,iBAAWN,WAAW,EAAI;MAC9D;IACJ;IAEAA,WAAW,GAAG,QAAQ;IACtB,IAAKD,MAAM,CAACQ,YAAY,GAAGR,MAAM,CAACS,aAAa,EAAGR,WAAW,GAAG,WAAW,CAAC,KACvE,IAAKD,MAAM,CAACQ,YAAY,GAAGR,MAAM,CAACS,aAAa,EAAGR,WAAW,GAAG,UAAU;IAE/ED,MAAM,CAACM,SAAS,CAACC,GAAG,iBAAWN,WAAW,EAAI;IAC9CF,gBAAgB,CAAEC,MAAM,EAAEC,WAAW,CAAE,CAAC,CAAC;EAC7C;;EAEAS,UAAU,CAACH,GAAG,CAAE,mBAAmB,EAAE,UAAEI,QAAQ,EAAM;IAEjD,EAAE,CAACC,OAAO,CAACC,IAAI,CAAEF,QAAQ,CAACG,gBAAgB,CAAE,KAAK,CAAE,EAAE,UAAAd,MAAM,EAAI;MAC3D;MACA,IAAIC,WAAW,GAAG,CAACD,MAAM,CAACe,SAAS,CAACC,KAAK,CAAE,wBAAwB,CAAE,IAAE,EAAE,EAAE,CAAC,CAAC;MAE7E,IAAKf,WAAW,EAAIF,gBAAgB,CAAEC,MAAM,EAAEC,WAAW,CAAE,CAAC,KACvD,IAAKD,MAAM,CAACiB,QAAQ,EAAGlB,gBAAgB,CAAEC,MAAM,CAAE,MACjDA,MAAM,CAACkB,gBAAgB,CAAE,MAAM,EAAEnB,gBAAgB,CAAE;IAC5D,CAAC,CAAE;EAEP,CAAC,CAAE;AAEP,CAAC,GAAG"}