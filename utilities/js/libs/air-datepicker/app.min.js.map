{"version":3,"file":"app.min.js","names":["_airDatepicker","_interopRequireDefault","require","_de","_en","obj","__esModule","locale","document","documentElement","getAttribute","split","Behaviours","add","$context","forEach","call","querySelectorAll","$input","setAttribute","options","selectedDates","Date","parse","value","dateFormat","phpDateFormatToJs","minDate","maxDate","de","localeDe","en","localeEn","position","buttons","onSelect","_ref","date","formattedDate","datepicker","dispatchEvent","CustomEvent","detail","bubbles","Alter","dp","AirDatepicker","format","replacements","replace","match"],"sources":["app.js"],"sourcesContent":["import AirDatepicker from './module/air-datepicker';\nimport localeDe from './module/locale/de';\nimport localeEn from './module/locale/en';\n\nconst locale = (document.documentElement.getAttribute( 'lang' ) || 'en')\n  .split( '-' )[0];\n\nBehaviours.add( 'datepicker', $context => {\n\n  [].forEach.call( $context.querySelectorAll( 'input[type=\"date\"]' ), $input => {\n\n    // remove native datepicker\n    $input.setAttribute( 'type', 'text' );\n\n    let options = {\n      selectedDates: [Date.parse( $input.value )],\n      dateFormat: phpDateFormatToJs( $input.getAttribute( 'data-format' ) || '' ),\n      minDate: $input.getAttribute( 'min' ) || '',\n      maxDate: $input.getAttribute( 'max' ) || '',\n      locale: { de: localeDe, en: localeEn }[locale],\n      position: 'bottom center',\n      buttons: ['today'],\n      onSelect( { date, formattedDate, datepicker } ) {\n        $input.dispatchEvent( new CustomEvent( 'airDatepicker:select', {\n          detail: { date, formattedDate, datepicker },\n          bubbles: true\n        } ) )\n      }\n    }\n\n    options = Alter.do( 'airDatepicker:options', options, $input );\n\n    const dp = new AirDatepicker( $input, options );\n\n    $input.dispatchEvent( new CustomEvent( 'datepicker:init', {\n      detail: { dp, options },\n      bubbles: true\n    } ) )\n  } )\n\n} );\n\n// ---\n// Helpers.\n\n/**\n * Convert PHP datetime format to air-datepicker's format.\n *\n * @param format\n * @returns string\n */\nfunction phpDateFormatToJs( format ) {\n\n  // https://www.php.net/manual/en/datetime.format.php\n  // https://air-datepicker.com/docs#dateFormat\n  // https://air-datepicker.com/docs#timeFormat\n\n  let replacements = {\n    'j': 'd', // day of the month without leading zeros\n    'd': 'dd', // day of the month, 2 digits with leading zeros\n    'D': 'E', // textual representation of a day, three letters\n    'l': 'EEEE', // full textual representation of the day of the week\n\n    'n': 'M', // numeric representation of a month, without leading zeros\n    'm': 'MM', // numeric representation of a month, with leading zeros\n    'M': 'MMM', // short textual representation of a month, three letters\n    'F': 'MMMM', // full textual representation of a month\n\n    'y': 'yy', // two digit representation of a year\n    'Y': 'yyyy', // full numeric representation of a year, at least 4 digits\n    'o': 'yyyy', // ISO 8601 week-numbering year\n\n    'g': 'h', // 12-hour format of an hour without leading zeros\n    'G': 'H', // 24-hour format of an hour without leading zeros\n    'h': 'hh', // 12-hour format of an hour with leading zeros\n    'H': 'HH', // 24-hour format of an hour with leading zeros\n\n    'i': 'mm', // minutes with leading zeros\n\n    'A': 'AA', // uppercase Ante meridiem and Post meridiem\n    'a': 'AA', // no lowercase format; we use uppercase as fallback\n  };\n\n  return format.replace( /[a-z]+/ig, match => match in replacements ? replacements[match] : match );\n}"],"mappings":"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"}