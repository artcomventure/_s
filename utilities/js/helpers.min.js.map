{"version":3,"file":"helpers.min.js","names":["$globalStyles","document","getElementById","remove","resizeObserver","ResizeObserver","entries","forEach","entry","target","parentElement","unobserve","id","offsetHeight","documentElement","style","setProperty","concat","Alter","Behaviours","add","$context","selector","$element","querySelector","observe","getBackgroundColor","color","classList","className","test","isInternalUrl","url","regexp","RegExp","location","host","isExternalUrl","isMobileDevice","body","contains","window"],"sources":["helpers.js"],"sourcesContent":["/**\n * Make sure `global-styles` are removed.\n * See `THEME/inc/gutenberg/gutenberg.php` \"remove _unneeded_ CSS\"\n */\n(function() {\n  const $globalStyles = document.getElementById( 'global-styles-inline-css' );\n  if ( $globalStyles ) $globalStyles.remove();\n})();\n\n/**\n * Set heights as property.\n *\n * @usage: `var(--{ELEMENT_ID}-height)`\n */\n(function() {\n\n  const resizeObserver = new ResizeObserver( ( entries ) =>\n      entries.forEach( ( entry ) => {\n        // element doesn't exist anymore\n        if ( !entry.target.parentElement ) return resizeObserver.unobserve( entry.target );\n        // set height property (`id` is mandatory)\n        !!entry.target.id && entry.target.offsetHeight\n        && document.documentElement.style.setProperty(\n            `--${entry.target.id}-height`,\n            Alter.do( 'set-height-property', entry.target.offsetHeight, entry.target ) + 'px'\n        )\n      } )\n  );\n\n  Behaviours.add( 'set-height-property', $context => {\n    Alter.do( 'set-height-property-for', ['#masthead', '#colophon'] ).forEach( selector => {\n      // check if element exists at all\n      let $element = document.querySelector( selector );\n      if ( !$element ) return;\n\n      if ( $context !== document ) {\n        if ( $context !== $element ) {\n          // search for element in `$context`\n          $element = $context.querySelector( selector );\n        }\n      }\n\n      // observer element ... if found\n      !!$element && resizeObserver.observe( $element );\n    } )\n  } )\n\n})();\n\n/**\n * Get background color class name (`has-{COLOR NAME}-background-color`) of given `$element`.\n *\n * @param $element\n * @returns {string|undefined}\n */\nconst getBackgroundColor = $element => {\n  let color;\n\n  if ( !!$element && !!$element.classList ) $element.classList.forEach( ( className ) => {\n    if ( !color && (/has-(.+)-background-color/.test( className ) || /(.+)-color/.test( className )) )\n      color = className;\n  } )\n\n  return color;\n}\n\n/**\n * Check if given `url` is an internal one.\n *\n * @param url\n * @returns {boolean}\n */\nconst isInternalUrl = url => {\n  const regexp = new RegExp( '^(\\/$|\\/[^\\/]|#|((ht|f)tps?:)?\\/\\/' + location.host + '|javascript:)' );\n  return regexp.test( url )\n}\n\n/**\n * Check if given `url` is an external one.\n *\n * @param url\n * @returns {boolean}\n */\nconst isExternalUrl = url => {\n  return !isInternalUrl( url );\n}\n\n/**\n * Page is shown on mobile device!?\n *\n * Class is set in `UTILITIES/inc/gutenberg/inc/bodyclass/inc/frontend.php`.\n */\n(function() {\n  const isMobileDevice = document.body.classList.contains( 'mobile-device' );\n  window.isMobileDevice = () => isMobileDevice;\n})()"],"mappings":"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"}