{"version":3,"file":"alter.min.js","names":["$","name","callbacks","add","hook","callback","priority","arguments","length","undefined","remove","push","Object","keys","forEach","func","i","toString","_do","variable","params","values","slice","fromEntries","entries","sort","$callbacks","$callback","apply","concat","_toConsumableArray","window","alterScope","alterName"],"sources":["alter.js"],"sourcesContent":["/**\n * Alter v1.0.0\n * https://gist.github.com/enoks/a336e8db4594737a98d8bd2c3783c2d6\n *\n * Let variables be altered.\n *\n * ```\n * Alter.add( 'hook', variable => variable), 10 ); // add callback\n * variable = Alter.do( 'hook', variable, param1, param2, ... ); // let alter\n * ```\n *\n * Copyright 2023, Stefan KÃ¤sche\n * Licensed under MIT\n */\n\n// Changelog:\n//\n// 1.0.0 - 2023-08-19\n// Init.\n\n;\n(function ( $, name ) {\n\n    const callbacks = {};\n\n    $[name] = {\n        /**\n         * @param {string} hook\n         * @param {function} callback\n         * @param {number} priority (optional)\n         */\n        add: function ( hook, callback , priority = 10) {\n            if ( typeof callback === 'function' ) {\n                this.remove( hook, callback );\n\n                if ( !callbacks[hook] ) callbacks[hook] = {};\n                if ( !callbacks[hook][priority] ) callbacks[hook][priority] = [];\n\n                callbacks[hook][priority].push( callback );\n            }\n\n            return this;\n        },\n\n        /**\n         * @param {string} hook\n         * @param {function} callback\n         */\n        remove: function( hook, callback ) {\n            if ( !!callbacks[hook] ) Object.keys( callbacks[hook] ).forEach( priority => {\n                callbacks[hook][priority].forEach( ( func, i ) => {\n                    if ( func.toString() === callback.toString() ) {\n                        delete callbacks[hook][priority][i];\n                    }\n                } )\n            } );\n\n            return this;\n        },\n\n        /**\n         * @param {string} hook\n         * @param variable\n         * Add any number of parameters. They will be passed through.\n         */\n        do: function ( hook, variable ) {\n            if ( !!callbacks[hook] ) {\n                const params = Object.values( arguments ).slice(2);\n\n                // sort by priority and loop through callbacks\n                Object.values( Object.fromEntries( Object.entries( callbacks[hook] ).sort() ) ).forEach( $callbacks => {\n                    $callbacks.forEach( $callback => {\n                        variable = $callback.apply( null, [...[variable], ...params] );\n                    } )\n                } )\n            }\n\n            return variable;\n        },\n    };\n\n})(window.alterScope||window, window.alterName||'Alter' );\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC,UAAWA,CAAC,EAAEC,IAAI,EAAG;EAElB,IAAMC,SAAS,GAAG,CAAC,CAAC;EAEpBF,CAAC,CAACC,IAAI,CAAC,GAAG;IACN;AACR;AACA;AACA;AACA;IACQE,GAAG,EAAE,SAAAA,IAAWC,IAAI,EAAEC,QAAQ,EAAkB;MAAA,IAAfC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;MAC1C,IAAK,OAAOF,QAAQ,KAAK,UAAU,EAAG;QAClC,IAAI,CAACK,MAAM,CAAEN,IAAI,EAAEC,QAAS,CAAC;QAE7B,IAAK,CAACH,SAAS,CAACE,IAAI,CAAC,EAAGF,SAAS,CAACE,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAK,CAACF,SAAS,CAACE,IAAI,CAAC,CAACE,QAAQ,CAAC,EAAGJ,SAAS,CAACE,IAAI,CAAC,CAACE,QAAQ,CAAC,GAAG,EAAE;QAEhEJ,SAAS,CAACE,IAAI,CAAC,CAACE,QAAQ,CAAC,CAACK,IAAI,CAAEN,QAAS,CAAC;MAC9C;MAEA,OAAO,IAAI;IACf,CAAC;IAED;AACR;AACA;AACA;IACQK,MAAM,EAAE,SAAAA,OAAUN,IAAI,EAAEC,QAAQ,EAAG;MAC/B,IAAK,CAAC,CAACH,SAAS,CAACE,IAAI,CAAC,EAAGQ,MAAM,CAACC,IAAI,CAAEX,SAAS,CAACE,IAAI,CAAE,CAAC,CAACU,OAAO,CAAE,UAAAR,QAAQ,EAAI;QACzEJ,SAAS,CAACE,IAAI,CAAC,CAACE,QAAQ,CAAC,CAACQ,OAAO,CAAE,UAAEC,IAAI,EAAEC,CAAC,EAAM;UAC9C,IAAKD,IAAI,CAACE,QAAQ,CAAC,CAAC,KAAKZ,QAAQ,CAACY,QAAQ,CAAC,CAAC,EAAG;YAC3C,OAAOf,SAAS,CAACE,IAAI,CAAC,CAACE,QAAQ,CAAC,CAACU,CAAC,CAAC;UACvC;QACJ,CAAE,CAAC;MACP,CAAE,CAAC;MAEH,OAAO,IAAI;IACf,CAAC;IAED;AACR;AACA;AACA;AACA;IACQ,MAAI,SAAAE,IAAWd,IAAI,EAAEe,QAAQ,EAAG;MAC5B,IAAK,CAAC,CAACjB,SAAS,CAACE,IAAI,CAAC,EAAG;QACrB,IAAMgB,MAAM,GAAGR,MAAM,CAACS,MAAM,CAAEd,SAAU,CAAC,CAACe,KAAK,CAAC,CAAC,CAAC;;QAElD;QACAV,MAAM,CAACS,MAAM,CAAET,MAAM,CAACW,WAAW,CAAEX,MAAM,CAACY,OAAO,CAAEtB,SAAS,CAACE,IAAI,CAAE,CAAC,CAACqB,IAAI,CAAC,CAAE,CAAE,CAAC,CAACX,OAAO,CAAE,UAAAY,UAAU,EAAI;UACnGA,UAAU,CAACZ,OAAO,CAAE,UAAAa,SAAS,EAAI;YAC7BR,QAAQ,GAAGQ,SAAS,CAACC,KAAK,CAAE,IAAI,EAAM,CAACT,QAAQ,CAAC,CAAAU,MAAA,CAAAC,kBAAA,CAAKV,MAAM,EAAE,CAAC;UAClE,CAAE,CAAC;QACP,CAAE,CAAC;MACP;MAEA,OAAOD,QAAQ;IACnB;EACJ,CAAC;AAEL,CAAC,EAAEY,MAAM,CAACC,UAAU,IAAED,MAAM,EAAEA,MAAM,CAACE,SAAS,IAAE,OAAQ,CAAC"}