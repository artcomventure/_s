{"version":3,"file":"external-links.min.js","names":["Behaviours","add","$context","$links","slice","call","querySelectorAll","hasAttribute","tagName","unshift","forEach","$link","closest","addEventListener","e","stopPropagation","isInternalUrl","href","getAttribute","setAttribute"],"sources":["external-links.js"],"sourcesContent":["/**\n * Open external links in new window.\n *\n * Also add link UX to none `<a>` elements by setting `data-href` attribute.\n */\n\nBehaviours.add( 'links:external', $context => {\n    let $links = [].slice.call( $context.querySelectorAll( 'a, [data-href]' ) );\n    if ( !!$context.hasAttribute && $context.hasAttribute( 'data-href' ) || $context.tagName === 'A' ) $links.unshift( $context );\n\n    $links.forEach( $link => {\n        if ( $link.closest( '[data-href]' ) || $link.closest( 'a' ) )\n            $link.addEventListener( 'click', e => {\n                e.stopPropagation();\n            }, false );\n\n        // internal!? ... nothing to do\n        if ( isInternalUrl( $link.href || $link.getAttribute( 'data-href' ) ) ) return;\n\n        // ---\n        // external\n\n        if ( $link.tagName === 'A' && !$link.hasAttribute( 'rel' ) ) {\n            $link.setAttribute( 'rel', 'noopener noreferrer' );\n        }\n\n        // open in new window\n        if ( !$link.getAttribute( 'target' ) )\n            $link.setAttribute( 'target', '_blank' );\n    } );\n} );"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;;AAEAA,UAAU,CAACC,GAAG,CAAE,gBAAgB,EAAE,UAAAC,QAAQ,EAAI;EAC1C,IAAIC,MAAM,GAAG,EAAE,CAACC,KAAK,CAACC,IAAI,CAAEH,QAAQ,CAACI,gBAAgB,CAAE,gBAAiB,CAAE,CAAC;EAC3E,IAAK,CAAC,CAACJ,QAAQ,CAACK,YAAY,IAAIL,QAAQ,CAACK,YAAY,CAAE,WAAY,CAAC,IAAIL,QAAQ,CAACM,OAAO,KAAK,GAAG,EAAGL,MAAM,CAACM,OAAO,CAAEP,QAAS,CAAC;EAE7HC,MAAM,CAACO,OAAO,CAAE,UAAAC,KAAK,EAAI;IACrB,IAAKA,KAAK,CAACC,OAAO,CAAE,aAAc,CAAC,IAAID,KAAK,CAACC,OAAO,CAAE,GAAI,CAAC,EACvDD,KAAK,CAACE,gBAAgB,CAAE,OAAO,EAAE,UAAAC,CAAC,EAAI;MAClCA,CAAC,CAACC,eAAe,CAAC,CAAC;IACvB,CAAC,EAAE,KAAM,CAAC;;IAEd;IACA,IAAKC,aAAa,CAAEL,KAAK,CAACM,IAAI,IAAIN,KAAK,CAACO,YAAY,CAAE,WAAY,CAAE,CAAC,EAAG;;IAExE;IACA;;IAEA,IAAKP,KAAK,CAACH,OAAO,KAAK,GAAG,IAAI,CAACG,KAAK,CAACJ,YAAY,CAAE,KAAM,CAAC,EAAG;MACzDI,KAAK,CAACQ,YAAY,CAAE,KAAK,EAAE,qBAAsB,CAAC;IACtD;;IAEA;IACA,IAAK,CAACR,KAAK,CAACO,YAAY,CAAE,QAAS,CAAC,EAChCP,KAAK,CAACQ,YAAY,CAAE,QAAQ,EAAE,QAAS,CAAC;EAChD,CAAE,CAAC;AACP,CAAE,CAAC"}