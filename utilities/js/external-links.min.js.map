{"version":3,"file":"external-links.min.js","names":["Behaviours","add","$context","regexp","RegExp","location","host","forEach","call","querySelectorAll","$link","closest","addEventListener","e","stopPropagation","tagName","test","href","hasAttribute","setAttribute","dataHref","getAttribute","window","open"],"sources":["external-links.js"],"sourcesContent":["// ---\n// - pen external links in new window\n\nBehaviours.add( 'links:external', $context => {\n    // regexp for internal link\n    const regexp = new RegExp( '^(\\/$|\\/[^\\/]|#|((ht|f)tps?:)?\\/\\/' + location.host + '|javascript:)' );\n\n    [].forEach.call( $context.querySelectorAll( 'a, [data-href]' ), function ( $link ) {\n        if ( $link.closest( '[data-href]' ) )\n            $link.addEventListener( 'click', function ( e ) {\n                e.stopPropagation();\n            }, false );\n\n        if ( $link.tagName === 'A' ) {\n            // internal\n            if ( regexp.test( $link.href ) ) return;\n\n            if ( !$link.hasAttribute( 'rel' ) )\n                $link.setAttribute( 'rel', 'noopener noreferrer' );\n        }\n        else {\n            // let fake links ([data-href]) behave like their `<a>`\n            const dataHref = $link.getAttribute( 'data-href' );\n            if ( dataHref ) $link.addEventListener( 'click', function () {\n                window.open( dataHref, $link.getAttribute( 'target') || '_self' );\n            }, false );\n\n            if ( regexp.test( $link.getAttribute( 'data-href' ) ) ) return;\n        }\n\n        // open external links in new window\n        if ( !$link.getAttribute( 'target' ) )\n            $link.setAttribute( 'target', '_blank' );\n    } );\n} );"],"mappings":";;AAAA;AACA;;AAEAA,UAAU,CAACC,GAAG,CAAE,gBAAgB,EAAE,UAAAC,QAAQ,EAAI;EAC1C;EACA,IAAMC,MAAM,GAAG,IAAIC,MAAM,CAAE,oCAAoC,GAAGC,QAAQ,CAACC,IAAI,GAAG,eAAgB,CAAC;EAEnG,EAAE,CAACC,OAAO,CAACC,IAAI,CAAEN,QAAQ,CAACO,gBAAgB,CAAE,gBAAiB,CAAC,EAAE,UAAWC,KAAK,EAAG;IAC/E,IAAKA,KAAK,CAACC,OAAO,CAAE,aAAc,CAAC,EAC/BD,KAAK,CAACE,gBAAgB,CAAE,OAAO,EAAE,UAAWC,CAAC,EAAG;MAC5CA,CAAC,CAACC,eAAe,CAAC,CAAC;IACvB,CAAC,EAAE,KAAM,CAAC;IAEd,IAAKJ,KAAK,CAACK,OAAO,KAAK,GAAG,EAAG;MACzB;MACA,IAAKZ,MAAM,CAACa,IAAI,CAAEN,KAAK,CAACO,IAAK,CAAC,EAAG;MAEjC,IAAK,CAACP,KAAK,CAACQ,YAAY,CAAE,KAAM,CAAC,EAC7BR,KAAK,CAACS,YAAY,CAAE,KAAK,EAAE,qBAAsB,CAAC;IAC1D,CAAC,MACI;MACD;MACA,IAAMC,QAAQ,GAAGV,KAAK,CAACW,YAAY,CAAE,WAAY,CAAC;MAClD,IAAKD,QAAQ,EAAGV,KAAK,CAACE,gBAAgB,CAAE,OAAO,EAAE,YAAY;QACzDU,MAAM,CAACC,IAAI,CAAEH,QAAQ,EAAEV,KAAK,CAACW,YAAY,CAAE,QAAQ,CAAC,IAAI,OAAQ,CAAC;MACrE,CAAC,EAAE,KAAM,CAAC;MAEV,IAAKlB,MAAM,CAACa,IAAI,CAAEN,KAAK,CAACW,YAAY,CAAE,WAAY,CAAE,CAAC,EAAG;IAC5D;;IAEA;IACA,IAAK,CAACX,KAAK,CAACW,YAAY,CAAE,QAAS,CAAC,EAChCX,KAAK,CAACS,YAAY,CAAE,QAAQ,EAAE,QAAS,CAAC;EAChD,CAAE,CAAC;AACP,CAAE,CAAC"}