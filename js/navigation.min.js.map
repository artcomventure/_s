{"version":3,"file":"navigation.min.js","names":["Behaviours","add","$context","$siteNavigation","querySelector","$button","getElementsByTagName","$menu","style","display","classList","contains","addEventListener","toggle","getAttribute","setAttribute","document","event","isClickInside","target","remove","$links","$linksWithChildren","querySelectorAll","_iterator","_createForOfIteratorHelper","_step","s","n","done","$link","value","toggleFocus","err","e","f","_iterator2","_step2","type","$self","tagName","toLowerCase","parentNode","$menuItem","preventDefault","_iterator3","children","_step3"],"sources":["navigation.js"],"sourcesContent":["/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\nBehaviours.add( 'navigation', $context => {\n\tconst $siteNavigation = $context.querySelector( '#site-navigation' );\n\tif ( ! $siteNavigation ) return;\n\n\tconst $button = $siteNavigation.getElementsByTagName( 'button' )[ 0 ];\n\tif ( 'undefined' === typeof $button ) return;\n\n\tconst $menu = $siteNavigation.getElementsByTagName( 'ul' )[ 0 ];\n\tif ( 'undefined' === typeof $menu ) {\n\t\t$button.style.display = 'none';\n\t\treturn;\n\t}\n\n\tif ( ! $menu.classList.contains( 'nav-menu' ) ) {\n\t\t$menu.classList.add( 'nav-menu' );\n\t}\n\n\t// Toggle the .toggled class and the aria-expanded value each time the button is clicked.\n\t$button.addEventListener( 'click', function() {\n\t\t$siteNavigation.classList.toggle( 'toggled' );\n\n\t\tif ( $button.getAttribute( 'aria-expanded' ) === 'true' ) {\n\t\t\t$button.setAttribute( 'aria-expanded', 'false' );\n\t\t} else {\n\t\t\t$button.setAttribute( 'aria-expanded', 'true' );\n\t\t}\n\t} );\n\n\t// Remove the .toggled class and set aria-expanded to false when the user clicks outside the navigation.\n\tdocument.addEventListener( 'click', function( event ) {\n\t\tconst isClickInside = $siteNavigation.contains( event.target );\n\n\t\tif ( ! isClickInside ) {\n\t\t\t$siteNavigation.classList.remove( 'toggled' );\n\t\t\t$button.setAttribute( 'aria-expanded', 'false' );\n\t\t}\n\t} );\n\n\t// Get all the link elements within the menu.\n\tconst $links = $menu.getElementsByTagName( 'a' );\n\n\t// Get all the link elements with children within the menu.\n\tconst $linksWithChildren = $menu.querySelectorAll( '.menu-item-has-children > a, .page_item_has_children > a' );\n\n\t// Toggle focus each time a menu link is focused or blurred.\n\tfor ( const $link of $links ) {\n\t\t$link.addEventListener( 'focus', toggleFocus, true );\n\t\t$link.addEventListener( 'blur', toggleFocus, true );\n\t}\n\n\t// Toggle focus each time a menu link with children receive a touch event.\n\tfor ( const $link of $linksWithChildren ) {\n\t\t$link.addEventListener( 'touchstart', toggleFocus, false );\n\t}\n\n\t/**\n\t * Sets or removes .focus class on an element.\n\t */\n\tfunction toggleFocus( e ) {\n\t\tif ( e.type === 'focus' || e.type === 'blur' ) {\n\t\t\tlet $self = this;\n\t\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\t\twhile ( ! $self.classList.contains( 'nav-menu' ) ) {\n\t\t\t\t// On li elements toggle the class .focus.\n\t\t\t\tif ( 'li' === $self.tagName.toLowerCase() ) {\n\t\t\t\t\t$self.classList.toggle( 'focus' );\n\t\t\t\t}\n\t\t\t\t$self = $self.parentNode;\n\t\t\t}\n\t\t}\n\n\t\tif ( e.type === 'touchstart' ) {\n\t\t\tconst $menuItem = this.parentNode;\n\t\t\te.preventDefault();\n\t\t\tfor ( const $link of $menuItem.parentNode.children ) {\n\t\t\t\tif ( $menuItem !== $link ) {\n\t\t\t\t\t$link.classList.remove( 'focus' );\n\t\t\t\t}\n\t\t\t}\n\t\t\t$menuItem.classList.toggle( 'focus' );\n\t\t}\n\t}\n} );\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACAA,UAAU,CAACC,GAAG,CAAE,YAAY,EAAE,UAAAC,QAAQ,EAAI;EACzC,IAAMC,eAAe,GAAGD,QAAQ,CAACE,aAAa,CAAE,kBAAmB,CAAC;EACpE,IAAK,CAAED,eAAe,EAAG;EAEzB,IAAME,OAAO,GAAGF,eAAe,CAACG,oBAAoB,CAAE,QAAS,CAAC,CAAE,CAAC,CAAE;EACrE,IAAK,WAAW,KAAK,OAAOD,OAAO,EAAG;EAEtC,IAAME,KAAK,GAAGJ,eAAe,CAACG,oBAAoB,CAAE,IAAK,CAAC,CAAE,CAAC,CAAE;EAC/D,IAAK,WAAW,KAAK,OAAOC,KAAK,EAAG;IACnCF,OAAO,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;IAC9B;EACD;EAEA,IAAK,CAAEF,KAAK,CAACG,SAAS,CAACC,QAAQ,CAAE,UAAW,CAAC,EAAG;IAC/CJ,KAAK,CAACG,SAAS,CAACT,GAAG,CAAE,UAAW,CAAC;EAClC;;EAEA;EACAI,OAAO,CAACO,gBAAgB,CAAE,OAAO,EAAE,YAAW;IAC7CT,eAAe,CAACO,SAAS,CAACG,MAAM,CAAE,SAAU,CAAC;IAE7C,IAAKR,OAAO,CAACS,YAAY,CAAE,eAAgB,CAAC,KAAK,MAAM,EAAG;MACzDT,OAAO,CAACU,YAAY,CAAE,eAAe,EAAE,OAAQ,CAAC;IACjD,CAAC,MAAM;MACNV,OAAO,CAACU,YAAY,CAAE,eAAe,EAAE,MAAO,CAAC;IAChD;EACD,CAAE,CAAC;;EAEH;EACAC,QAAQ,CAACJ,gBAAgB,CAAE,OAAO,EAAE,UAAUK,KAAK,EAAG;IACrD,IAAMC,aAAa,GAAGf,eAAe,CAACQ,QAAQ,CAAEM,KAAK,CAACE,MAAO,CAAC;IAE9D,IAAK,CAAED,aAAa,EAAG;MACtBf,eAAe,CAACO,SAAS,CAACU,MAAM,CAAE,SAAU,CAAC;MAC7Cf,OAAO,CAACU,YAAY,CAAE,eAAe,EAAE,OAAQ,CAAC;IACjD;EACD,CAAE,CAAC;;EAEH;EACA,IAAMM,MAAM,GAAGd,KAAK,CAACD,oBAAoB,CAAE,GAAI,CAAC;;EAEhD;EACA,IAAMgB,kBAAkB,GAAGf,KAAK,CAACgB,gBAAgB,CAAE,0DAA2D,CAAC;;EAE/G;EAAA,IAAAC,SAAA,GAAAC,0BAAA,CACqBJ,MAAM;IAAAK,KAAA;EAAA;IAA3B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA8B;MAAA,IAAlBC,KAAK,GAAAJ,KAAA,CAAAK,KAAA;MAChBD,KAAK,CAAClB,gBAAgB,CAAE,OAAO,EAAEoB,WAAW,EAAE,IAAK,CAAC;MACpDF,KAAK,CAAClB,gBAAgB,CAAE,MAAM,EAAEoB,WAAW,EAAE,IAAK,CAAC;IACpD;;IAEA;EAAA,SAAAC,GAAA;IAAAT,SAAA,CAAAU,CAAA,CAAAD,GAAA;EAAA;IAAAT,SAAA,CAAAW,CAAA;EAAA;EAAA,IAAAC,UAAA,GAAAX,0BAAA,CACqBH,kBAAkB;IAAAe,MAAA;EAAA;IAAvC,KAAAD,UAAA,CAAAT,CAAA,MAAAU,MAAA,GAAAD,UAAA,CAAAR,CAAA,IAAAC,IAAA,GAA0C;MAAA,IAA9BC,MAAK,GAAAO,MAAA,CAAAN,KAAA;MAChBD,MAAK,CAAClB,gBAAgB,CAAE,YAAY,EAAEoB,WAAW,EAAE,KAAM,CAAC;IAC3D;;IAEA;AACD;AACA;EAFC,SAAAC,GAAA;IAAAG,UAAA,CAAAF,CAAA,CAAAD,GAAA;EAAA;IAAAG,UAAA,CAAAD,CAAA;EAAA;EAGA,SAASH,WAAWA,CAAEE,CAAC,EAAG;IACzB,IAAKA,CAAC,CAACI,IAAI,KAAK,OAAO,IAAIJ,CAAC,CAACI,IAAI,KAAK,MAAM,EAAG;MAC9C,IAAIC,KAAK,GAAG,IAAI;MAChB;MACA,OAAQ,CAAEA,KAAK,CAAC7B,SAAS,CAACC,QAAQ,CAAE,UAAW,CAAC,EAAG;QAClD;QACA,IAAK,IAAI,KAAK4B,KAAK,CAACC,OAAO,CAACC,WAAW,CAAC,CAAC,EAAG;UAC3CF,KAAK,CAAC7B,SAAS,CAACG,MAAM,CAAE,OAAQ,CAAC;QAClC;QACA0B,KAAK,GAAGA,KAAK,CAACG,UAAU;MACzB;IACD;IAEA,IAAKR,CAAC,CAACI,IAAI,KAAK,YAAY,EAAG;MAC9B,IAAMK,SAAS,GAAG,IAAI,CAACD,UAAU;MACjCR,CAAC,CAACU,cAAc,CAAC,CAAC;MAAC,IAAAC,UAAA,GAAApB,0BAAA,CACEkB,SAAS,CAACD,UAAU,CAACI,QAAQ;QAAAC,MAAA;MAAA;QAAlD,KAAAF,UAAA,CAAAlB,CAAA,MAAAoB,MAAA,GAAAF,UAAA,CAAAjB,CAAA,IAAAC,IAAA,GAAqD;UAAA,IAAzCC,KAAK,GAAAiB,MAAA,CAAAhB,KAAA;UAChB,IAAKY,SAAS,KAAKb,KAAK,EAAG;YAC1BA,KAAK,CAACpB,SAAS,CAACU,MAAM,CAAE,OAAQ,CAAC;UAClC;QACD;MAAC,SAAAa,GAAA;QAAAY,UAAA,CAAAX,CAAA,CAAAD,GAAA;MAAA;QAAAY,UAAA,CAAAV,CAAA;MAAA;MACDQ,SAAS,CAACjC,SAAS,CAACG,MAAM,CAAE,OAAQ,CAAC;IACtC;EACD;AACD,CAAE,CAAC"}