{"version":3,"file":"navigation.min.js","names":["$siteNavigation","$button","document","addEventListener","event","contains","target","dispatchEvent","Event","Behaviours","add","$context","id","querySelector","undefined","getElementsByTagName","$menu","style","display","classList","e","expand","isTrusted","getAttribute","setAttribute","documentElement","overflow","$links","$linksWithChildren","querySelectorAll","_iterator","_createForOfIteratorHelper","_step","s","n","done","$link","value","closest","toggleFocus","err","f","_iterator2","_step2","type","$self","tagName","toLowerCase","toggle","parentNode","$menuItem","preventDefault","_iterator3","children","_step3","remove"],"sources":["navigation.js"],"sourcesContent":["/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\n(function() {\n\n\tlet $siteNavigation, $button;\n\n\t// remove the .toggled class and set aria-expanded to false\n\t// when the user clicks outside the navigation\n\tdocument.addEventListener( 'click', function( event ) {\n\t\tif ( $button && !$siteNavigation.contains( event.target ) ) {\n\t\t\t$button.dispatchEvent( new Event( 'click' ) );\n\t\t}\n\t} );\n\n\tBehaviours.add( 'navigation', $context => {\n\n\t\tif ( $context !== document && $context.id !== 'masthead' ) return;\n\n\t\t$siteNavigation = $context.querySelector( '#site-navigation' );\n\t\tif ( ! $siteNavigation ) return $button = undefined;\n\n\t\t// toggle button\n\t\t$button = $siteNavigation.getElementsByTagName( 'button' )[ 0 ];\n\t\tif ( 'undefined' === typeof $button ) return;\n\n\t\tconst $menu = $siteNavigation.getElementsByTagName( 'ul' )[ 0 ];\n\t\tif ( 'undefined' === typeof $menu ) {\n\t\t\t$button.style.display = 'none';\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! $menu.classList.contains( 'nav-menu' ) ) {\n\t\t\t$menu.classList.add( 'nav-menu' );\n\t\t}\n\n\t\t// toggle the .toggled class and the aria-expanded value each time the button is clicked\n\t\t$button.addEventListener( 'click', e => {\n\t\t\tconst expand = e.isTrusted && $button.getAttribute( 'aria-expanded' ) === 'false';\n\t\t\t$button.setAttribute( 'aria-expanded', expand ? 'true' : 'false' );\n\t\t\t$siteNavigation.classList[expand ? 'add' : 'remove']( 'toggled' );\n\t\t\tdocument.documentElement.style.overflow = expand ? 'hidden' : '';\n\t\t} );\n\n\t\t// get all the link elements within the menu\n\t\tconst $links = $menu.getElementsByTagName( 'a' );\n\n\t\t// get all the link elements with children within the menu\n\t\tconst $linksWithChildren = $menu.querySelectorAll( '.menu-item-has-children > a, .page_item_has_children > a' );\n\n\t\tfor ( const $link of $links ) {\n\t\t\tif ( $link.closest( '.wp-block-button' ) )\n\t\t\t\t$link.classList.add( 'wp-block-button__link' );\n\n\t\t\t// toggle focus each time a menu link is focused or blurred.\n\t\t\t$link.addEventListener( 'focus', toggleFocus, true );\n\t\t\t$link.addEventListener( 'blur', toggleFocus, true );\n\t\t}\n\n\t\t// toggle focus each time a menu link with children receive a touch event\n\t\tfor ( const $link of $linksWithChildren ) {\n\t\t\t$link.addEventListener( 'touchstart', toggleFocus, false );\n\t\t}\n\n\t\t/**\n\t\t * Sets or removes .focus class on an element.\n\t\t */\n\t\tfunction toggleFocus( e ) {\n\t\t\tif ( e.type === 'focus' || e.type === 'blur' ) {\n\t\t\t\tlet $self = this;\n\t\t\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\t\t\twhile ( ! $self.classList.contains( 'nav-menu' ) ) {\n\t\t\t\t\t// On li elements toggle the class .focus.\n\t\t\t\t\tif ( 'li' === $self.tagName.toLowerCase() ) {\n\t\t\t\t\t\t$self.classList.toggle( 'focus' );\n\t\t\t\t\t}\n\t\t\t\t\t$self = $self.parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( e.type === 'touchstart' ) {\n\t\t\t\tconst $menuItem = this.parentNode;\n\t\t\t\te.preventDefault();\n\t\t\t\tfor ( const $link of $menuItem.parentNode.children ) {\n\t\t\t\t\tif ( $menuItem !== $link ) {\n\t\t\t\t\t\t$link.classList.remove( 'focus' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$menuItem.classList.toggle( 'focus' );\n\t\t\t}\n\t\t}\n\t} );\n\n})()\n"],"mappings":"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"}